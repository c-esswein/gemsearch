2017-11-13 22:13:18,501 - summa.preprocessing.cleaner - INFO - 'pattern' package not found; tag filters are not available for English
2017-11-13 22:13:18,530 - __main__ - INFO - started playlist eval with config: {'dataDir': 'data/model_single_artists/', 'outDir': 'data/rec_single_artists/', 'SHOULD_GENERATE_GRAPH': False, 'SHOULD_INDEX_ES': False, 'TEST_PLAYLIST_SPLIT': 0.2, 'PRECISION_AT': [1, 10, 15], 'USE_USER_IN_QUERY': True, 'SHOULD_EMBED': False, 'ARGS': Namespace(album=True, data_dir='data/model_single_artists/', genre=True, out_dir='data/rec_single_artists/', tags=True)}
2017-11-13 22:13:18,531 - __main__ - INFO - %%% playlist_eval runner... 
2017-11-13 22:13:18,567 - __main__ - INFO - %%% ge calc initializing... 
2017-11-13 22:13:18,568 - gensim.models.keyedvectors - INFO - loading projection weights from data/rec_single_artists/deepwalk.em
2017-11-13 22:13:40,677 - gensim.models.keyedvectors - INFO - loaded (332489, 64) matrix from data/rec_single_artists/deepwalk.em
2017-11-13 22:13:41,522 - __main__ - INFO - %%% ge calc initializing done in 22.954s


2017-11-13 22:13:41,522 - __main__ - INFO - ------------- evaluation -------------
2017-11-13 22:13:41,522 - __main__ - INFO - %%% evaluation... 
2017-11-13 22:13:41,522 - gemsearch.evaluation.playlist_query_evaluator - INFO - Started playlist evaluation with 1771 playlists
2017-11-13 22:13:41,547 - gensim.models.keyedvectors - INFO - precomputing L2-norms of word weight vectors
2017-11-13 22:29:02,912 - gemsearch.evaluation.playlist_query_evaluator - INFO - Playlist evaluation finished: total 1771 playlists (testsplit=0.2)
[{'key': 'rec_tracks_with_user@10',
  'values': {'avg_hits': 0.014680971202710334,
             'avg_hits_on_has_hits': 2.0,
             'has_hits': 13,
             'precision': 0.0014680971202710336,
             'precision_on_has_hits': 0.20000000000000004,
             'recall': 0.0010593628728946098}},
 {'key': 'rec_tracks_with_user@1',
  'values': {'avg_hits': 0.0016939582156973462,
             'avg_hits_on_has_hits': 1.0,
             'has_hits': 3,
             'precision': 0.0016939582156973462,
             'precision_on_has_hits': 1.0,
             'recall': 0.00018149552311042991}},
 {'key': 'rec_tracks_with_user@15',
  'values': {'avg_hits': 0.026538678712591756,
             'avg_hits_on_has_hits': 2.611111111111111,
             'has_hits': 18,
             'precision': 0.0017692452475061176,
             'precision_on_has_hits': 0.17407407407407413,
             'recall': 0.0018009999050952984}},
 {'key': 'rec_query_tracks_with_user@15',
  'values': {'avg_hits': 1.8571428571428572,
             'avg_hits_on_has_hits': 3.699662542182227,
             'has_hits': 889,
             'precision': 0.12380952380952365,
             'precision_on_has_hits': 0.24664416947881482,
             'recall': 0.13051741389014643}},
 {'key': 'rec_query_tracks_with_user@10',
  'values': {'avg_hits': 1.2964426877470356,
             'avg_hits_on_has_hits': 2.943589743589744,
             'has_hits': 780,
             'precision': 0.12964426877470298,
             'precision_on_has_hits': 0.294358974358973,
             'recall': 0.09297050404577036}},
 {'key': 'rec_query_tracks_with_user@1',
  'values': {'avg_hits': 0.14850367024280067,
             'avg_hits_on_has_hits': 1.0,
             'has_hits': 263,
             'precision': 0.14850367024280067,
             'precision_on_has_hits': 1.0,
             'recall': 0.011031417389895925}},
 {'key': 'rec_multiple_queries_tracks_with_user@15',
  'values': {'avg_hits': 3.639751552795031,
             'avg_hits_on_has_hits': 5.719609582963621,
             'has_hits': 1127,
             'precision': 0.24265010351966765,
             'precision_on_has_hits': 0.3813073055309063,
             'recall': 0.2692155745036908}},
 {'key': 'rec_multiple_queries_tracks_with_user@10',
  'values': {'avg_hits': 2.7662337662337664,
             'avg_hits_on_has_hits': 4.697027804410355,
             'has_hits': 1043,
             'precision': 0.27662337662337727,
             'precision_on_has_hits': 0.4697027804410365,
             'recall': 0.2113703737066005}},
 {'key': 'rec_first_two_query_tracks_with_user@15',
  'values': {'avg_hits': 4.675324675324675,
             'avg_hits_on_has_hits': 6.4890282131661445,
             'has_hits': 1276,
             'precision': 0.31168831168831096,
             'precision_on_has_hits': 0.432601880877742,
             'recall': 0.32478665637341436}},
 {'key': 'rec_multiple_queries_tracks_with_user@1',
  'values': {'avg_hits': 0.31507622811970637,
             'avg_hits_on_has_hits': 1.0,
             'has_hits': 558,
             'precision': 0.31507622811970637,
             'precision_on_has_hits': 1.0,
             'recall': 0.025506960392199886}},
 {'key': 'rec_first_two_query_tracks_with_user@10',
  'values': {'avg_hits': 3.57029926595144,
             'avg_hits_on_has_hits': 5.2342715231788075,
             'has_hits': 1208,
             'precision': 0.3570299265951445,
             'precision_on_has_hits': 0.5234271523178815,
             'recall': 0.2575946430310155}},
 {'key': 'rec_multiple_queries_tracks@15',
  'values': {'avg_hits': 5.5064935064935066,
             'avg_hits_on_has_hits': 7.399089529590288,
             'has_hits': 1318,
             'precision': 0.3670995670995674,
             'precision_on_has_hits': 0.49327263530601967,
             'recall': 0.38678243044088995}},
 {'key': 'rec_first_two_query_tracks@15',
  'values': {'avg_hits': 5.810841332580463,
             'avg_hits_on_has_hits': 7.468069666182874,
             'has_hits': 1378,
             'precision': 0.3873894221720317,
             'precision_on_has_hits': 0.49787131107885935,
             'recall': 0.4031835602951857}},
 {'key': 'rec_first_two_query_tracks_with_user_scaled@15',
  'values': {'avg_hits': 5.8142292490118574,
             'avg_hits_on_has_hits': 7.413246940244781,
             'has_hits': 1389,
             'precision': 0.3876152832674576,
             'precision_on_has_hits': 0.49421646268298586,
             'recall': 0.4044132062893399}},
 {'key': 'rec_query_tracks_with_user_scaled@15',
  'values': {'avg_hits': 5.95313382269904,
             'avg_hits_on_has_hits': 7.9032983508245875,
             'has_hits': 1334,
             'precision': 0.3968755881799368,
             'precision_on_has_hits': 0.5268865567216402,
             'recall': 0.4150061527182745}},
 {'key': 'rec_query_tracks@15',
  'values': {'avg_hits': 6.025974025974026,
             'avg_hits_on_has_hits': 8.012012012012011,
             'has_hits': 1332,
             'precision': 0.4017316017316028,
             'precision_on_has_hits': 0.5341341341341356,
             'recall': 0.41926191529352125}},
 {'key': 'rec_first_two_query_tracks_with_user@1',
  'values': {'avg_hits': 0.4178430265386787,
             'avg_hits_on_has_hits': 1.0,
             'has_hits': 740,
             'precision': 0.4178430265386787,
             'precision_on_has_hits': 1.0,
             'recall': 0.03161989189988197}},
 {'key': 'rec_multiple_queries_tracks@10',
  'values': {'avg_hits': 4.2811970638057595,
             'avg_hits_on_has_hits': 5.932707355242567,
             'has_hits': 1278,
             'precision': 0.4281197063805771,
             'precision_on_has_hits': 0.5932707355242582,
             'recall': 0.3148632503120037}},
 {'key': 'rec_first_two_query_tracks_with_user_scaled@10',
  'values': {'avg_hits': 4.491812535290796,
             'avg_hits_on_has_hits': 6.003773584905661,
             'has_hits': 1325,
             'precision': 0.44918125352908,
             'precision_on_has_hits': 0.6003773584905665,
             'recall': 0.32667562959613794}},
 {'key': 'rec_first_two_query_tracks@10',
  'values': {'avg_hits': 4.508187464709204,
             'avg_hits_on_has_hits': 6.043906131718395,
             'has_hits': 1321,
             'precision': 0.4508187464709208,
             'precision_on_has_hits': 0.6043906131718401,
             'recall': 0.3280402670330623}},
 {'key': 'rec_album_or_query@15',
  'values': {'avg_hits': 6.8644833427442125,
             'avg_hits_on_has_hits': 9.28724216959511,
             'has_hits': 1309,
             'precision': 0.45763222284961463,
             'precision_on_has_hits': 0.619149477973008,
             'recall': 0.48000430850426373}},
 {'key': 'rec_query_tracks_with_user_scaled@10',
  'values': {'avg_hits': 4.596273291925466,
             'avg_hits_on_has_hits': 6.339563862928349,
             'has_hits': 1284,
             'precision': 0.4596273291925468,
             'precision_on_has_hits': 0.6339563862928351,
             'recall': 0.33506169205006914}},
 {'key': 'rec_query_tracks@10',
  'values': {'avg_hits': 4.676453980801807,
             'avg_hits_on_has_hits': 6.475371383893667,
             'has_hits': 1279,
             'precision': 0.4676453980801804,
             'precision_on_has_hits': 0.6475371383893663,
             'recall': 0.34095778692188455}},
 {'key': 'rec_multiple_queries_tracks@1',
  'values': {'avg_hits': 0.5053642010163749,
             'avg_hits_on_has_hits': 1.0,
             'has_hits': 895,
             'precision': 0.5053642010163749,
             'precision_on_has_hits': 1.0,
             'recall': 0.03950240115995606}},
 {'key': 'rec_first_two_query_tracks@1',
  'values': {'avg_hits': 0.5070581592320723,
             'avg_hits_on_has_hits': 1.0,
             'has_hits': 898,
             'precision': 0.5070581592320723,
             'precision_on_has_hits': 1.0,
             'recall': 0.03851650841366}},
 {'key': 'rec_first_two_query_tracks_with_user_scaled@1',
  'values': {'avg_hits': 0.5081874647092038,
             'avg_hits_on_has_hits': 1.0,
             'has_hits': 900,
             'precision': 0.5081874647092038,
             'precision_on_has_hits': 1.0,
             'recall': 0.03886704417722297}},
 {'key': 'rec_album_or_query@10',
  'values': {'avg_hits': 5.345002823263693,
             'avg_hits_on_has_hits': 7.453543307086615,
             'has_hits': 1270,
             'precision': 0.5345002823263696,
             'precision_on_has_hits': 0.7453543307086619,
             'recall': 0.39273169106023387}},
 {'key': 'rec_query_tracks_with_user_scaled@1',
  'values': {'avg_hits': 0.5398080180688877,
             'avg_hits_on_has_hits': 1.0,
             'has_hits': 956,
             'precision': 0.5398080180688877,
             'precision_on_has_hits': 1.0,
             'recall': 0.04140074577707804}},
 {'key': 'rec_query_tracks@1',
  'values': {'avg_hits': 0.5527950310559007,
             'avg_hits_on_has_hits': 1.0,
             'has_hits': 979,
             'precision': 0.5527950310559007,
             'precision_on_has_hits': 1.0,
             'recall': 0.0425822366792602}},
 {'key': 'rec_album_or_query@1',
  'values': {'avg_hits': 0.5951439864483343,
             'avg_hits_on_has_hits': 1.0,
             'has_hits': 1054,
             'precision': 0.5951439864483343,
             'precision_on_has_hits': 1.0,
             'recall': 0.04573798273395391}}]
2017-11-13 22:29:02,919 - __main__ - INFO - %%% evaluation done in 921.396s


------------- done -------------
2017-11-13 22:29:03,256 - __main__ - INFO - %%% playlist_eval runner done in 944.726s


