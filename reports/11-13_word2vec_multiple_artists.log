2017-11-13 20:51:57,805 - summa.preprocessing.cleaner - INFO - 'pattern' package not found; tag filters are not available for English
2017-11-13 20:51:57,841 - __main__ - INFO - started playlist eval with config: {'dataDir': 'data/model_multiple_artists/', 'outDir': 'data/rec_multiple_artists/', 'SHOULD_GENERATE_GRAPH': False, 'SHOULD_INDEX_ES': False, 'TEST_PLAYLIST_SPLIT': 0.2, 'PRECISION_AT': [1, 10, 15], 'USE_USER_IN_QUERY': True, 'SHOULD_EMBED': False, 'ARGS': Namespace(album=True, data_dir='data/model_multiple_artists/', genre=True, out_dir='data/rec_multiple_artists/', tags=True)}
2017-11-13 20:51:57,841 - __main__ - INFO - %%% playlist_eval runner... 
2017-11-13 20:51:58,045 - __main__ - INFO - %%% ge calc initializing... 
2017-11-13 20:51:58,046 - gensim.models.keyedvectors - INFO - loading projection weights from data/rec_multiple_artists/deepwalk.em
2017-11-13 20:53:42,068 - gensim.models.keyedvectors - INFO - loaded (1448130, 64) matrix from data/rec_multiple_artists/deepwalk.em
2017-11-13 20:53:45,894 - __main__ - INFO - %%% ge calc initializing done in 107.848s


2017-11-13 20:53:45,894 - __main__ - INFO - ------------- evaluation -------------
2017-11-13 20:53:45,894 - __main__ - INFO - %%% evaluation... 
2017-11-13 20:53:45,894 - gemsearch.evaluation.playlist_query_evaluator - INFO - Started playlist evaluation with 2324 playlists
2017-11-13 20:53:45,963 - gensim.models.keyedvectors - INFO - precomputing L2-norms of word weight vectors
2017-11-13 22:13:15,642 - gemsearch.evaluation.playlist_query_evaluator - INFO - Playlist evaluation finished: total 2324 playlists (testsplit=0.2)
[{'key': 'rec_tracks_with_user@10',
  'values': {'avg_hits': 0.18631669535283993,
             'avg_hits_on_has_hits': 1.9330357142857142,
             'has_hits': 224,
             'precision': 0.018631669535284046,
             'precision_on_has_hits': 0.193303571428572,
             'recall': 0.0031986862639288164}},
 {'key': 'rec_tracks_with_user@15',
  'values': {'avg_hits': 0.28012048192771083,
             'avg_hits_on_has_hits': 2.3003533568904593,
             'has_hits': 283,
             'precision': 0.018674698795180775,
             'precision_on_has_hits': 0.15335689045936438,
             'recall': 0.004672057458894807}},
 {'key': 'rec_tracks_with_user@1',
  'values': {'avg_hits': 0.019793459552495698,
             'avg_hits_on_has_hits': 1.0,
             'has_hits': 46,
             'precision': 0.019793459552495698,
             'precision_on_has_hits': 1.0,
             'recall': 0.0003819888152361055}},
 {'key': 'rec_multiple_queries_tracks_with_user@15',
  'values': {'avg_hits': 0.5998278829604131,
             'avg_hits_on_has_hits': 3.272300469483568,
             'has_hits': 426,
             'precision': 0.03998852553069423,
             'precision_on_has_hits': 0.21815336463223797,
             'recall': 0.020770003817879627}},
 {'key': 'rec_query_tracks_with_user@15',
  'values': {'avg_hits': 0.6092943201376936,
             'avg_hits_on_has_hits': 2.9623430962343096,
             'has_hits': 478,
             'precision': 0.04061962134251296,
             'precision_on_has_hits': 0.1974895397489542,
             'recall': 0.01982763433934029}},
 {'key': 'rec_multiple_queries_tracks_with_user@10',
  'values': {'avg_hits': 0.43115318416523235,
             'avg_hits_on_has_hits': 2.745205479452055,
             'has_hits': 365,
             'precision': 0.04311531841652316,
             'precision_on_has_hits': 0.27452054794520503,
             'recall': 0.01593241569658621}},
 {'key': 'rec_query_tracks_with_user@10',
  'values': {'avg_hits': 0.4444922547332186,
             'avg_hits_on_has_hits': 2.550617283950617,
             'has_hits': 405,
             'precision': 0.044449225473321766,
             'precision_on_has_hits': 0.2550617283950612,
             'recall': 0.015165722972773465}},
 {'key': 'rec_multiple_queries_tracks@15',
  'values': {'avg_hits': 0.725473321858864,
             'avg_hits_on_has_hits': 5.26875,
             'has_hits': 320,
             'precision': 0.048364888123924296,
             'precision_on_has_hits': 0.3512500000000002,
             'recall': 0.028811975111915675}},
 {'key': 'rec_multiple_queries_tracks@10',
  'values': {'avg_hits': 0.5228055077452668,
             'avg_hits_on_has_hits': 4.10472972972973,
             'has_hits': 296,
             'precision': 0.0522805507745266,
             'precision_on_has_hits': 0.41047297297297236,
             'recall': 0.022117458451817566}},
 {'key': 'rec_multiple_queries_tracks_with_user@1',
  'values': {'avg_hits': 0.05464716006884682,
             'avg_hits_on_has_hits': 1.0,
             'has_hits': 127,
             'precision': 0.05464716006884682,
             'precision_on_has_hits': 1.0,
             'recall': 0.0022383053881838916}},
 {'key': 'rec_first_two_query_tracks_with_user@15',
  'values': {'avg_hits': 0.8438037865748709,
             'avg_hits_on_has_hits': 3.9938900203665986,
             'has_hits': 491,
             'precision': 0.05625358577165811,
             'precision_on_has_hits': 0.2662593346911068,
             'recall': 0.03099320288361145}},
 {'key': 'rec_query_tracks_with_user@1',
  'values': {'avg_hits': 0.060240963855421686,
             'avg_hits_on_has_hits': 1.0,
             'has_hits': 140,
             'precision': 0.060240963855421686,
             'precision_on_has_hits': 1.0,
             'recall': 0.0023695488511844874}},
 {'key': 'rec_first_two_query_tracks_with_user@10',
  'values': {'avg_hits': 0.6191910499139415,
             'avg_hits_on_has_hits': 3.277904328018223,
             'has_hits': 439,
             'precision': 0.061919104991393976,
             'precision_on_has_hits': 0.3277904328018214,
             'recall': 0.023979700278052234}},
 {'key': 'rec_first_two_query_tracks@15',
  'values': {'avg_hits': 0.9397590361445783,
             'avg_hits_on_has_hits': 5.747368421052632,
             'has_hits': 380,
             'precision': 0.06265060240963857,
             'precision_on_has_hits': 0.38315789473684225,
             'recall': 0.03807465645148768}},
 {'key': 'rec_first_two_query_tracks_with_user_scaled@15',
  'values': {'avg_hits': 0.9539586919104991,
             'avg_hits_on_has_hits': 5.612658227848101,
             'has_hits': 395,
             'precision': 0.0635972461273666,
             'precision_on_has_hits': 0.3741772151898734,
             'recall': 0.038483164180751414}},
 {'key': 'rec_first_two_query_tracks@10',
  'values': {'avg_hits': 0.6880378657487092,
             'avg_hits_on_has_hits': 4.504225352112676,
             'has_hits': 355,
             'precision': 0.0688037865748709,
             'precision_on_has_hits': 0.4504225352112675,
             'recall': 0.029199187194626663}},
 {'key': 'rec_first_two_query_tracks_with_user_scaled@10',
  'values': {'avg_hits': 0.7074010327022375,
             'avg_hits_on_has_hits': 4.407506702412869,
             'has_hits': 373,
             'precision': 0.07074010327022368,
             'precision_on_has_hits': 0.44075067024128634,
             'recall': 0.02985698374250177}},
 {'key': 'rec_query_tracks@15',
  'values': {'avg_hits': 1.064974182444062,
             'avg_hits_on_has_hits': 6.6,
             'has_hits': 375,
             'precision': 0.07099827882960406,
             'precision_on_has_hits': 0.4399999999999996,
             'recall': 0.04415802971922154}},
 {'key': 'rec_query_tracks_with_user_scaled@15',
  'values': {'avg_hits': 1.0675559380378659,
             'avg_hits_on_has_hits': 6.345268542199489,
             'has_hits': 391,
             'precision': 0.07117039586919095,
             'precision_on_has_hits': 0.42301790281329865,
             'recall': 0.044014808569255}},
 {'key': 'rec_multiple_queries_tracks@1',
  'values': {'avg_hits': 0.07401032702237521,
             'avg_hits_on_has_hits': 1.0,
             'has_hits': 172,
             'precision': 0.07401032702237521,
             'precision_on_has_hits': 1.0,
             'recall': 0.0035160909458745422}},
 {'key': 'rec_query_tracks@10',
  'values': {'avg_hits': 0.7758175559380379,
             'avg_hits_on_has_hits': 5.093220338983051,
             'has_hits': 354,
             'precision': 0.07758175559380368,
             'precision_on_has_hits': 0.5093220338983044,
             'recall': 0.033912994451885406}},
 {'key': 'rec_query_tracks_with_user_scaled@10',
  'values': {'avg_hits': 0.7895869191049913,
             'avg_hits_on_has_hits': 4.919571045576408,
             'has_hits': 373,
             'precision': 0.07895869191049902,
             'precision_on_has_hits': 0.49195710455763997,
             'recall': 0.03408399132650883}},
 {'key': 'rec_first_two_query_tracks_with_user@1',
  'values': {'avg_hits': 0.07917383820998279,
             'avg_hits_on_has_hits': 1.0,
             'has_hits': 184,
             'precision': 0.07917383820998279,
             'precision_on_has_hits': 1.0,
             'recall': 0.003219918901132877}},
 {'key': 'rec_album_or_query@15',
  'values': {'avg_hits': 1.2435456110154905,
             'avg_hits_on_has_hits': 8.027777777777779,
             'has_hits': 360,
             'precision': 0.082903040734366,
             'precision_on_has_hits': 0.5351851851851849,
             'recall': 0.05395691755037685}},
 {'key': 'rec_first_two_query_tracks@1',
  'values': {'avg_hits': 0.08476764199655766,
             'avg_hits_on_has_hits': 1.0,
             'has_hits': 197,
             'precision': 0.08476764199655766,
             'precision_on_has_hits': 1.0,
             'recall': 0.003908376425166235}},
 {'key': 'rec_first_two_query_tracks_with_user_scaled@1',
  'values': {'avg_hits': 0.08648881239242685,
             'avg_hits_on_has_hits': 1.0,
             'has_hits': 201,
             'precision': 0.08648881239242685,
             'precision_on_has_hits': 1.0,
             'recall': 0.0038918862472291727}},
 {'key': 'rec_album_or_query@10',
  'values': {'avg_hits': 0.8919965576592083,
             'avg_hits_on_has_hits': 6.06140350877193,
             'has_hits': 342,
             'precision': 0.08919965576592073,
             'precision_on_has_hits': 0.6061403508771923,
             'recall': 0.04059793513305786}},
 {'key': 'rec_query_tracks_with_user_scaled@1',
  'values': {'avg_hits': 0.09896729776247848,
             'avg_hits_on_has_hits': 1.0,
             'has_hits': 230,
             'precision': 0.09896729776247848,
             'precision_on_has_hits': 1.0,
             'recall': 0.004644972902414417}},
 {'key': 'rec_query_tracks@1',
  'values': {'avg_hits': 0.10456110154905336,
             'avg_hits_on_has_hits': 1.0,
             'has_hits': 243,
             'precision': 0.10456110154905336,
             'precision_on_has_hits': 1.0,
             'recall': 0.00495376249616596}},
 {'key': 'rec_album_or_query@1',
  'values': {'avg_hits': 0.10843373493975904,
             'avg_hits_on_has_hits': 1.0,
             'has_hits': 252,
             'precision': 0.10843373493975904,
             'precision_on_has_hits': 1.0,
             'recall': 0.005114408007426986}}]
2017-11-13 22:13:15,649 - __main__ - INFO - %%% evaluation done in 4769.755s


------------- done -------------
2017-11-13 22:13:16,142 - __main__ - INFO - %%% playlist_eval runner done in 4878.301s


