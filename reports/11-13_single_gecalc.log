nohup: ignoring input
2017-11-13 08:55:16,353 - summa.preprocessing.cleaner - INFO - 'pattern' package not found; tag filters are not available for English
2017-11-13 08:55:16,388 - __main__ - INFO - started playlist eval with config: {'dataDir': 'data/model_single_artists/', 'outDir': 'data/rec_single_artists/', 'SHOULD_GENERATE_GRAPH': False, 'SHOULD_INDEX_ES': False, 'TEST_PLAYLIST_SPLIT': 0.2, 'PRECISION_AT': [1, 10, 15], 'USE_USER_IN_QUERY': True, 'SHOULD_EMBED': False, 'ARGS': Namespace(album=True, data_dir='data/model_single_artists/', genre=True, out_dir='data/rec_single_artists/', tags=True)}
2017-11-13 08:55:16,388 - __main__ - INFO - %%% playlist_eval runner... 
2017-11-13 08:55:16,426 - __main__ - INFO - %%% ge calc initializing... 
2017-11-13 08:55:27,159 - __main__ - INFO - %%% ge calc initializing done in 10.733s


2017-11-13 08:55:27,159 - __main__ - INFO - ------------- evaluation -------------
2017-11-13 08:55:27,159 - __main__ - INFO - %%% evaluation... 
2017-11-13 08:55:27,159 - gemsearch.evaluation.playlist_query_evaluator - INFO - Extract queries from playlist names (result is cached)
2017-11-13 08:58:19,240 - gemsearch.evaluation.playlist_query_evaluator - INFO - For evaluation 1771 of 1773 playlists are left
2017-11-13 08:58:19,240 - gemsearch.evaluation.playlist_query_evaluator - INFO - Started playlist evaluation with 1771 playlists
2017-11-13 09:29:54,345 - gemsearch.evaluation.playlist_query_evaluator - INFO - Playlist evaluation finished: total 1771 playlists (testsplit=0.2)
[{'key': 'rec_tracks_with_user@10',
  'values': {'avg_hits': 0.014680971202710334,
             'avg_hits_on_has_hits': 2.0,
             'has_hits': 13,
             'precision': 0.0014680971202710336,
             'precision_on_has_hits': 0.20000000000000004,
             'recall': 0.0010593628728946098}},
 {'key': 'rec_tracks_with_user@1',
  'values': {'avg_hits': 0.0016939582156973462,
             'avg_hits_on_has_hits': 1.0,
             'has_hits': 3,
             'precision': 0.0016939582156973462,
             'precision_on_has_hits': 1.0,
             'recall': 0.00018149552311042991}},
 {'key': 'rec_tracks_with_user@15',
  'values': {'avg_hits': 0.026538678712591756,
             'avg_hits_on_has_hits': 2.611111111111111,
             'has_hits': 18,
             'precision': 0.0017692452475061176,
             'precision_on_has_hits': 0.17407407407407413,
             'recall': 0.0018009999050952984}},
 {'key': 'rec_query_tracks_with_user@10',
  'values': {'avg_hits': 0.3105590062111801,
             'avg_hits_on_has_hits': 2.657004830917874,
             'has_hits': 207,
             'precision': 0.031055900621118064,
             'precision_on_has_hits': 0.2657004830917879,
             'recall': 0.017573820921967312}},
 {'key': 'rec_query_tracks_with_user@15',
  'values': {'avg_hits': 0.4805194805194805,
             'avg_hits_on_has_hits': 3.211320754716981,
             'has_hits': 265,
             'precision': 0.032034632034632096,
             'precision_on_has_hits': 0.21408805031446584,
             'recall': 0.02619723836953097}},
 {'key': 'rec_query_tracks_with_user@1',
  'values': {'avg_hits': 0.032185206098249576,
             'avg_hits_on_has_hits': 1.0,
             'has_hits': 57,
             'precision': 0.032185206098249576,
             'precision_on_has_hits': 1.0,
             'recall': 0.001787949531391224}},
 {'key': 'rec_multiple_queries_tracks_with_user@15',
  'values': {'avg_hits': 1.6623376623376624,
             'avg_hits_on_has_hits': 4.529230769230769,
             'has_hits': 650,
             'precision': 0.11082251082251075,
             'precision_on_has_hits': 0.30194871794871775,
             'recall': 0.11660717856178793}},
 {'key': 'rec_multiple_queries_tracks_with_user@10',
  'values': {'avg_hits': 1.209486166007905,
             'avg_hits_on_has_hits': 3.8318425760286225,
             'has_hits': 559,
             'precision': 0.12094861660079015,
             'precision_on_has_hits': 0.3831842576028611,
             'recall': 0.08793900387432692}},
 {'key': 'rec_multiple_queries_tracks_with_user@1',
  'values': {'avg_hits': 0.13438735177865613,
             'avg_hits_on_has_hits': 1.0,
             'has_hits': 238,
             'precision': 0.13438735177865613,
             'precision_on_has_hits': 1.0,
             'recall': 0.009943193414756642}},
 {'key': 'rec_first_two_query_tracks_with_user@15',
  'values': {'avg_hits': 2.177865612648221,
             'avg_hits_on_has_hits': 4.963963963963964,
             'has_hits': 777,
             'precision': 0.14519104084321469,
             'precision_on_has_hits': 0.3309309309309308,
             'recall': 0.1336468133123826}},
 {'key': 'rec_first_two_query_tracks_with_user@10',
  'values': {'avg_hits': 1.5731225296442688,
             'avg_hits_on_has_hits': 4.026011560693641,
             'has_hits': 692,
             'precision': 0.15731225296442666,
             'precision_on_has_hits': 0.40260115606936364,
             'recall': 0.09978994228380306}},
 {'key': 'rec_first_two_query_tracks_with_user@1',
  'values': {'avg_hits': 0.16770186335403728,
             'avg_hits_on_has_hits': 1.0,
             'has_hits': 297,
             'precision': 0.16770186335403728,
             'precision_on_has_hits': 1.0,
             'recall': 0.010988230480702129}},
 {'key': 'rec_query_tracks_with_user_scaled@15',
  'values': {'avg_hits': 2.9649915302089216,
             'avg_hits_on_has_hits': 5.873601789709173,
             'has_hits': 894,
             'precision': 0.19766610201392762,
             'precision_on_has_hits': 0.3915734526472772,
             'recall': 0.19137179440891885}},
 {'key': 'rec_query_tracks_with_user_scaled@10',
  'values': {'avg_hits': 2.177865612648221,
             'avg_hits_on_has_hits': 4.773514851485149,
             'has_hits': 808,
             'precision': 0.21778656126482232,
             'precision_on_has_hits': 0.4773514851485153,
             'recall': 0.14523520948946822}},
 {'key': 'rec_query_tracks_with_user_scaled@1',
  'values': {'avg_hits': 0.233201581027668,
             'avg_hits_on_has_hits': 1.0,
             'has_hits': 413,
             'precision': 0.233201581027668,
             'precision_on_has_hits': 1.0,
             'recall': 0.015612486688644234}},
 {'key': 'rec_first_two_query_tracks_with_user_scaled@15',
  'values': {'avg_hits': 4.846414455110107,
             'avg_hits_on_has_hits': 6.731764705882353,
             'has_hits': 1275,
             'precision': 0.3230942970073403,
             'precision_on_has_hits': 0.44878431372549,
             'recall': 0.3296532744300091}},
 {'key': 'rec_first_two_query_tracks_with_user_scaled@10',
  'values': {'avg_hits': 3.649915302089215,
             'avg_hits_on_has_hits': 5.45945945945946,
             'has_hits': 1184,
             'precision': 0.364991530208922,
             'precision_on_has_hits': 0.5459459459459467,
             'recall': 0.25773993017263996}},
 {'key': 'rec_multiple_queries_tracks@15',
  'values': {'avg_hits': 5.821569734613213,
             'avg_hits_on_has_hits': 7.592047128129602,
             'has_hits': 1358,
             'precision': 0.38810464897421515,
             'precision_on_has_hits': 0.5061364752086415,
             'recall': 0.4083825073121899}},
 {'key': 'rec_query_tracks@15',
  'values': {'avg_hits': 6.025974025974026,
             'avg_hits_on_has_hits': 8.012012012012011,
             'has_hits': 1332,
             'precision': 0.4017316017316028,
             'precision_on_has_hits': 0.5341341341341356,
             'recall': 0.41926191529352125}},
 {'key': 'rec_first_two_query_tracks@15',
  'values': {'avg_hits': 6.237154150197629,
             'avg_hits_on_has_hits': 7.762473647224175,
             'has_hits': 1423,
             'precision': 0.41581027667984294,
             'precision_on_has_hits': 0.5174982431482795,
             'recall': 0.4339901294394747}},
 {'key': 'rec_first_two_query_tracks_with_user_scaled@1',
  'values': {'avg_hits': 0.42066629023150764,
             'avg_hits_on_has_hits': 1.0,
             'has_hits': 745,
             'precision': 0.42066629023150764,
             'precision_on_has_hits': 1.0,
             'recall': 0.031213951040971192}},
 {'key': 'rec_multiple_queries_tracks@10',
  'values': {'avg_hits': 4.5149632975719936,
             'avg_hits_on_has_hits': 6.108479755538579,
             'has_hits': 1309,
             'precision': 0.4514963297571998,
             'precision_on_has_hits': 0.6108479755538585,
             'recall': 0.3312260905266912}},
 {'key': 'rec_album_or_query@15',
  'values': {'avg_hits': 6.8644833427442125,
             'avg_hits_on_has_hits': 9.28724216959511,
             'has_hits': 1309,
             'precision': 0.45763222284961463,
             'precision_on_has_hits': 0.619149477973008,
             'recall': 0.48000430850426373}},
 {'key': 'rec_query_tracks@10',
  'values': {'avg_hits': 4.676453980801807,
             'avg_hits_on_has_hits': 6.475371383893667,
             'has_hits': 1279,
             'precision': 0.4676453980801804,
             'precision_on_has_hits': 0.6475371383893663,
             'recall': 0.34095778692188455}},
 {'key': 'rec_first_two_query_tracks@10',
  'values': {'avg_hits': 4.813664596273292,
             'avg_hits_on_has_hits': 6.268382352941177,
             'has_hits': 1360,
             'precision': 0.4813664596273295,
             'precision_on_has_hits': 0.6268382352941181,
             'recall': 0.3513526495590122}},
 {'key': 'rec_multiple_queries_tracks@1',
  'values': {'avg_hits': 0.5262563523433089,
             'avg_hits_on_has_hits': 1.0,
             'has_hits': 932,
             'precision': 0.5262563523433089,
             'precision_on_has_hits': 1.0,
             'recall': 0.0408165469772035}},
 {'key': 'rec_album_or_query@10',
  'values': {'avg_hits': 5.345002823263693,
             'avg_hits_on_has_hits': 7.453543307086615,
             'has_hits': 1270,
             'precision': 0.5345002823263696,
             'precision_on_has_hits': 0.7453543307086619,
             'recall': 0.39273169106023387}},
 {'key': 'rec_first_two_query_tracks@1',
  'values': {'avg_hits': 0.549407114624506,
             'avg_hits_on_has_hits': 1.0,
             'has_hits': 973,
             'precision': 0.549407114624506,
             'precision_on_has_hits': 1.0,
             'recall': 0.042569682662834}},
 {'key': 'rec_query_tracks@1',
  'values': {'avg_hits': 0.5527950310559007,
             'avg_hits_on_has_hits': 1.0,
             'has_hits': 979,
             'precision': 0.5527950310559007,
             'precision_on_has_hits': 1.0,
             'recall': 0.0425822366792602}},
 {'key': 'rec_album_or_query@1',
  'values': {'avg_hits': 0.5951439864483343,
             'avg_hits_on_has_hits': 1.0,
             'has_hits': 1054,
             'precision': 0.5951439864483343,
             'precision_on_has_hits': 1.0,
             'recall': 0.04573798273395391}}]
2017-11-13 09:29:54,356 - __main__ - INFO - %%% evaluation done in 2067.197s


------------- done -------------
2017-11-13 09:29:54,688 - __main__ - INFO - %%% playlist_eval runner done in 2078.3s


